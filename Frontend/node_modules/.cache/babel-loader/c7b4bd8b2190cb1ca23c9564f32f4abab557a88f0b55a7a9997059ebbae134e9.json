{"ast":null,"code":"import TrainerProfiles from \"../models/TrainerProfile.js\";\nimport User from \"../models/User.js\";\nexport const getTrainerDashboard = async (req, res) => {\n  try {\n    const {\n      id: userId,\n      userType\n    } = req.user;\n\n    // Only trainers allowed\n    if (userType !== 2) {\n      return res.status(403).json({\n        message: \"Access denied\"\n      });\n    }\n    const profile = await TrainerProfiles.findOne({\n      where: {\n        userId\n      }\n    });\n    if (!profile) {\n      return res.status(404).json({\n        message: \"Trainer profile not found\"\n      });\n    }\n\n    /* ---------- EXPERIENCE CALCULATION ---------- */\n    const experienceLabel = profile.experienceYears >= 5 ? \"Senior Trainer\" : profile.experienceYears >= 2 ? \"Intermediate Trainer\" : \"Junior Trainer\";\n\n    /* ---------- RESPONSE ---------- */\n    res.json({\n      status: profile.status,\n      // PENDING / ACTIVE\n      phone: profile.phone,\n      gender: profile.gender,\n      dateOfBirth: profile.dateOfBirth,\n      experienceYears: profile.experienceYears,\n      experienceLabel,\n      certifications: profile.certifications,\n      specializations: profile.specializations,\n      availability: profile.availability,\n      // e.g. Morning / Evening\n      trainingMode: profile.trainingMode,\n      // Online / Offline / Both\n\n      bio: profile.bio,\n      joinedAt: profile.createdAt\n    });\n  } catch (error) {\n    console.error(\"Trainer dashboard error:\", error);\n    res.status(500).json({\n      message: \"Failed to load trainer dashboard\"\n    });\n  }\n};","map":{"version":3,"names":["TrainerProfiles","User","getTrainerDashboard","req","res","id","userId","userType","user","status","json","message","profile","findOne","where","experienceLabel","experienceYears","phone","gender","dateOfBirth","certifications","specializations","availability","trainingMode","bio","joinedAt","createdAt","error","console"],"sources":["C:/Users/prath/OneDrive/Documents/Web_projects/Project1/demo/src/Component/Dashboard/Trainer.js"],"sourcesContent":["import TrainerProfiles from \"../models/TrainerProfile.js\";\r\nimport User from \"../models/User.js\";\r\n\r\nexport const getTrainerDashboard = async (req, res) => {\r\n  try {\r\n    const { id: userId, userType } = req.user;\r\n\r\n    // Only trainers allowed\r\n    if (userType !== 2) {\r\n      return res.status(403).json({ message: \"Access denied\" });\r\n    }\r\n\r\n    const profile = await TrainerProfiles.findOne({\r\n      where: { userId },\r\n    });\r\n\r\n    if (!profile) {\r\n      return res.status(404).json({\r\n        message: \"Trainer profile not found\",\r\n      });\r\n    }\r\n\r\n    /* ---------- EXPERIENCE CALCULATION ---------- */\r\n    const experienceLabel =\r\n      profile.experienceYears >= 5\r\n        ? \"Senior Trainer\"\r\n        : profile.experienceYears >= 2\r\n        ? \"Intermediate Trainer\"\r\n        : \"Junior Trainer\";\r\n\r\n    /* ---------- RESPONSE ---------- */\r\n    res.json({\r\n      status: profile.status, // PENDING / ACTIVE\r\n      phone: profile.phone,\r\n      gender: profile.gender,\r\n      dateOfBirth: profile.dateOfBirth,\r\n\r\n      experienceYears: profile.experienceYears,\r\n      experienceLabel,\r\n\r\n      certifications: profile.certifications,\r\n      specializations: profile.specializations,\r\n\r\n      availability: profile.availability, // e.g. Morning / Evening\r\n      trainingMode: profile.trainingMode, // Online / Offline / Both\r\n\r\n      bio: profile.bio,\r\n\r\n      joinedAt: profile.createdAt,\r\n    });\r\n  } catch (error) {\r\n    console.error(\"Trainer dashboard error:\", error);\r\n    res.status(500).json({ message: \"Failed to load trainer dashboard\" });\r\n  }\r\n};\r\n"],"mappings":"AAAA,OAAOA,eAAe,MAAM,6BAA6B;AACzD,OAAOC,IAAI,MAAM,mBAAmB;AAEpC,OAAO,MAAMC,mBAAmB,GAAG,MAAAA,CAAOC,GAAG,EAAEC,GAAG,KAAK;EACrD,IAAI;IACF,MAAM;MAAEC,EAAE,EAAEC,MAAM;MAAEC;IAAS,CAAC,GAAGJ,GAAG,CAACK,IAAI;;IAEzC;IACA,IAAID,QAAQ,KAAK,CAAC,EAAE;MAClB,OAAOH,GAAG,CAACK,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QAAEC,OAAO,EAAE;MAAgB,CAAC,CAAC;IAC3D;IAEA,MAAMC,OAAO,GAAG,MAAMZ,eAAe,CAACa,OAAO,CAAC;MAC5CC,KAAK,EAAE;QAAER;MAAO;IAClB,CAAC,CAAC;IAEF,IAAI,CAACM,OAAO,EAAE;MACZ,OAAOR,GAAG,CAACK,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QAC1BC,OAAO,EAAE;MACX,CAAC,CAAC;IACJ;;IAEA;IACA,MAAMI,eAAe,GACnBH,OAAO,CAACI,eAAe,IAAI,CAAC,GACxB,gBAAgB,GAChBJ,OAAO,CAACI,eAAe,IAAI,CAAC,GAC5B,sBAAsB,GACtB,gBAAgB;;IAEtB;IACAZ,GAAG,CAACM,IAAI,CAAC;MACPD,MAAM,EAAEG,OAAO,CAACH,MAAM;MAAE;MACxBQ,KAAK,EAAEL,OAAO,CAACK,KAAK;MACpBC,MAAM,EAAEN,OAAO,CAACM,MAAM;MACtBC,WAAW,EAAEP,OAAO,CAACO,WAAW;MAEhCH,eAAe,EAAEJ,OAAO,CAACI,eAAe;MACxCD,eAAe;MAEfK,cAAc,EAAER,OAAO,CAACQ,cAAc;MACtCC,eAAe,EAAET,OAAO,CAACS,eAAe;MAExCC,YAAY,EAAEV,OAAO,CAACU,YAAY;MAAE;MACpCC,YAAY,EAAEX,OAAO,CAACW,YAAY;MAAE;;MAEpCC,GAAG,EAAEZ,OAAO,CAACY,GAAG;MAEhBC,QAAQ,EAAEb,OAAO,CAACc;IACpB,CAAC,CAAC;EACJ,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;IAChDvB,GAAG,CAACK,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAAEC,OAAO,EAAE;IAAmC,CAAC,CAAC;EACvE;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}